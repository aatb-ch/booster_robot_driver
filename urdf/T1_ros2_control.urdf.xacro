<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="T1">

  <!--
  Booster T1 Robot - ROS2 Control URDF Configuration

  This URDF file defines the Booster T1 humanoid robot for use with ROS2 Control
  using native ROS2 topic communication. No external SDK dependencies required.

  Features:
  - Native ROS2 topic communication via /joint_ctrl and /joint_state
  - Mock hardware support for testing
  - Real robot mode with safety features
  - All 23 joints with official limits and names
  - Direct communication with SDK (URDF and SDK joint orders are identical)

  Parameters:
  - use_mock_hardware: Enable mock mode for testing (default: false)
  -->

  <!-- Parameters -->
  <xacro:arg name="use_mock_hardware" default="false"/>

  <!-- Include the base T1 URDF - using serial version for full body control -->
  <xacro:include filename="$(find booster_robot_driver)/urdf/T1_serial.urdf" />

  <!-- ros2_control hardware interface -->
  <ros2_control name="T1HardwareInterface" type="system">
    <hardware>
      <plugin>booster_robot_driver/BoosterHardwareInterface</plugin>
      <param name="use_mock_hardware">$(arg use_mock_hardware)</param>
    </hardware>

    <!-- Head joints -->
    <joint name="Head_yaw">
      <command_interface name="position">
        <param name="min">-1.57</param>
        <param name="max">1.57</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Head_pitch">
      <command_interface name="position">
        <param name="min">-0.35</param>
        <param name="max">1.22</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Left arm joints -->
    <joint name="Left_Shoulder_Pitch">
      <command_interface name="position">
        <param name="min">-3.31</param>
        <param name="max">1.22</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Shoulder_Roll">
      <command_interface name="position">
        <param name="min">-1.74</param>
        <param name="max">1.57</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Elbow_Pitch">
      <command_interface name="position">
        <param name="min">-2.094395</param>
        <param name="max">0.034907</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Shoulder_Yaw">
      <command_interface name="position">
        <param name="min">-2.234021</param>
        <param name="max">2.234021</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Right arm joints -->
    <joint name="Right_Shoulder_Pitch">
      <command_interface name="position">
        <param name="min">-3.31</param>
        <param name="max">1.22</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Shoulder_Roll">
      <command_interface name="position">
        <param name="min">-1.57</param>
        <param name="max">1.74</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Elbow_Pitch">
      <command_interface name="position">
        <param name="min">-0.034907</param>
        <param name="max">2.094395</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Shoulder_Yaw">
      <command_interface name="position">
        <param name="min">-2.234021</param>
        <param name="max">2.234021</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Waist joint -->
    <joint name="Waist">
      <command_interface name="position">
        <param name="min">-1.57</param>
        <param name="max">1.57</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Left leg joints -->
    <joint name="Left_Hip_Pitch">
      <command_interface name="position">
        <param name="min">-1.8</param>
        <param name="max">1.57</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Hip_Roll">
      <command_interface name="position">
        <param name="min">-0.2</param>
        <param name="max">1.57</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Hip_Yaw">
      <command_interface name="position">
        <param name="min">-1</param>
        <param name="max">1</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Knee_Pitch">
      <command_interface name="position">
        <param name="min">0</param>
        <param name="max">2.34</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Ankle_Pitch">
      <command_interface name="position">
        <param name="min">-0.87</param>
        <param name="max">0.35</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Left_Ankle_Roll">
      <command_interface name="position">
        <param name="min">-0.44</param>
        <param name="max">0.44</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Right leg joints -->
    <joint name="Right_Hip_Pitch">
      <command_interface name="position">
        <param name="min">-1.8</param>
        <param name="max">1.57</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Hip_Roll">
      <command_interface name="position">
        <param name="min">-1.57</param>
        <param name="max">0.2</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Hip_Yaw">
      <command_interface name="position">
        <param name="min">-1</param>
        <param name="max">1</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Knee_Pitch">
      <command_interface name="position">
        <param name="min">0</param>
        <param name="max">2.34</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Ankle_Pitch">
      <command_interface name="position">
        <param name="min">-0.87</param>
        <param name="max">0.35</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Right_Ankle_Roll">
      <command_interface name="position">
        <param name="min">-0.44</param>
        <param name="max">0.44</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>

</robot>